{% extends 'base.html' %}
{% load static %}
{% block title %}Seller Dashboard{% endblock %}

{% block contents %}
  <div class="dashboard-container">
    <div class="dashboard-header">
      <h2 class="dashboard-title">Sales Performance Dashboard</h2>
      <div class="dashboard-subtitle">Overview of your product categories performance</div>
    </div>
    
    <div class="chart-container">
      <div class="chart-card">
        <div class="chart-header">
          <h3>Monthly Sales by Category</h3>
          <select class="time-period-selector">
            <option>Last 7 Days</option>
            <option selected>Last 30 Days</option>
            <option>Last Quarter</option>
            <option>Last Year</option>
          </select>
        </div>
        <canvas id="salesChart"></canvas>
      </div>
    </div>
    
    <div class="metrics-container">
      <div class="metric-card">
        <div class="metric-value">$12,345</div>
        <div class="metric-label">Total Revenue</div>
        <div class="metric-change positive">+12% from last month</div>
      </div>
      <div class="metric-card">
        <div class="metric-value">328</div>
        <div class="metric-label">Total Orders</div>
        <div class="metric-change positive">+8% from last month</div>
      </div>
      <div class="metric-card">
        <div class="metric-value">4.7</div>
        <div class="metric-label">Avg. Rating</div>
        <div class="metric-change neutral">Â±0 from last month</div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
  <style>
    :root {
      --primary-color: #4e73df;
      --secondary-color: #1cc88a;
      --accent-color: #f6c23e;
      --text-color: #5a5c69;
      --light-bg: #f8f9fc;
      --card-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
    }
    
    .dashboard-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text-color);
    }
    body, html {
  margin: 0;
  padding: 0;
  border: 0;
}
.dashboard-container {
  margin-top: 0 !important;
  padding-top: 0 !important;
  border: 0 !important;
}

    .dashboard-header {
      margin-bottom: 30px;
      text-align: center;
    }
    
    .dashboard-title {
      font-size: 28px;
      font-weight: 600;
      color: white;
      margin-bottom: 5px;
    }
    
    .dashboard-subtitle {
      font-size: 16px;
      color: white;
    }
    
    .chart-container {
      background: white;
      border-radius: 10px;
      box-shadow: var(--card-shadow);
      padding: 25px;
      margin-bottom: 30px;
      height: 400px;
    }
    
    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .chart-header h3 {
      font-size: 18px;
      font-weight: 600;
      color: #2e3a4d;
      margin: 0;
    }
    
    .time-period-selector {
      padding: 8px 12px;
      border-radius: 4px;
      border: 1px solid #ddd;
      background: white;
      font-size: 14px;
      cursor: pointer;
    }
    
    #salesChart {
      max-height: 320px !important;
    }
    
    .metrics-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .metric-card {
      background: white;
      border-radius: 10px;
      box-shadow: var(--card-shadow);
      padding: 20px;
      text-align: center;
      transform: translateY(20px);
      opacity: 0;
      transition: all 0.4s ease;
    }
    
    .metric-value {
      font-size: 32px;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 5px;
    }
    
    .metric-label {
      font-size: 14px;
      color: #6c757d;
      margin-bottom: 10px;
    }
    
    .metric-change {
      font-size: 13px;
      font-weight: 600;
    }
    
    .metric-change.positive {
      color: var(--secondary-color);
    }
    
    .metric-change.negative {
      color: #e74a3b;
    }
    
    .metric-change.neutral {
      color: #6c757d;
    }
    
    @media (max-width: 768px) {
      .metrics-container {
        grid-template-columns: 1fr;
      }
    }
  </style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
      const ctx = document.getElementById('salesChart').getContext('2d');
      
      const salesChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Beauty', 'Fragrances', 'Furniture'],
          datasets: [{
            label: 'Sales ($)',
            data: [12500, 18400, 9800],
            backgroundColor: [
              'rgba(78, 115, 223, 0.8)',
              'rgba(28, 200, 138, 0.8)',
              'rgba(246, 194, 62, 0.8)',
              'rgba(231, 74, 59, 0.8)',
              'rgba(108, 117, 125, 0.8)'
            ],
            borderColor: [
              'rgba(78, 115, 223, 1)',
              'rgba(28, 200, 138, 1)',
              'rgba(246, 194, 62, 1)',
              'rgba(231, 74, 59, 1)',
              'rgba(108, 117, 125, 1)'
            ],
            borderWidth: 1,
            borderRadius: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: true,
              position: 'top',
              labels: {
                font: { size: 14 },
                padding: 20,
                usePointStyle: true,
                pointStyle: 'circle'
              }
            },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              titleFont: { size: 16, weight: 'bold' },
              bodyFont: { size: 14 },
              padding: 12,
              cornerRadius: 4,
              displayColors: true,
              callbacks: {
                label: function(context) {
                  return '$' + context.raw.toLocaleString();
                }
              }
            },
            datalabels: { display: false }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: 'rgba(0, 0, 0, 0.05)', drawBorder: false },
              ticks: {
                font: { size: 12 },
                callback: function(value) {
                  return '$' + value.toLocaleString();
                }
              }
            },
            x: {
              grid: { display: false, drawBorder: false },
              ticks: { font: { size: 12 } }
            }
          }
        }
      });
      
      const metricCards = document.querySelectorAll('.metric-card');
      metricCards.forEach((card, index) => {
        setTimeout(() => {
          card.style.transform = 'translateY(0)';
          card.style.opacity = '1';
        }, index * 100);
      });
    });
</script>
{% endblock %}